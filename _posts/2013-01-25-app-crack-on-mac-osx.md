---
layout: post
title: "App Crack on Mac OSX"
description: ""
category: 
tags: []
---
{% include JB/setup %}
##参考:http://loadcode.blogspot.co.uk/2006/02/cracking-software-on-os-x.html
##
###把二进制程序扔到 sublime text 2 中 切换到 hex 模式，我们猜测校验 license 的那个函数叫做 check* 之类的，于是以 check 关键字进行搜索
###果然有个函数 checkLicense()
###

###利用 si 命令逐步运行，直至找到 objc_msgSend ()，这个函数意味着接下来要向某个 obj-c 对象传递参数了，
###而且传递的参数保存在了寄存器里面
###

	(gdb) info all-registers
	rax            0x101b242b0	4323426992
	rbx            0x7fff7a8df700	140735249512192
	rcx            0x100800908	4303358216
	rdx            0x0	0
	rsi            0x7fff9278a284	140735650767492
	rdi            0x7fff7a8df700	140735249512192
	rbp            0x7fff5fbff250	0x7fff5fbff250
	rsp            0x7fff5fbff208	0x7fff5fbff208
	r8             0xfffffffefe4dbd4f	-4323426993
	r9             0x3f	63
	r10            0x100800800	4303357952
	r11            0xf9bfd10	261881104
	r12            0x7fff961a9240	140735711711808
	r13            0x0	0
	r14            0x7fff9278a284	140735650767492
	r15            0x7fff961a9240	140735711711808
	rip            0x7fff961a9240	0x7fff961a9240 <objc_msgSend>
	eflags         0x202	514
	cs             0x2b	43
	ss             0x0	0
	ds             0x0	0
	es             0x0	0
	fs             0x0	0
	gs             0x0	0
	st0            <invalid float value>	(raw 0xffff0000000000000000)
	st1            -nan(0x000000100)	(raw 0xffff0000000000000100)
	st2            0	(raw 0x00000000000000000000)
	st3            -nan(0x00000001a)	(raw 0xffff000000000000001a)
	st4            -nan(0x0ffe96500)	(raw 0xffff00000000ffe96500)
	st5            -9223372031854775808	(raw 0xc03dfffffffdabf41c00)
	st6            5000000000	(raw 0x401f9502f90000000000)
	st7            5000000000	(raw 0x401f9502f90000000000)
	fctrl          0x37f	895
	fstat          0x0	0
	ftag           0xffff	65535
	fiseg          0x2b	43
	fioff          0x8aae339d	-1968295011
	foseg          0x23	35
	fooff          0x5fbfba50	1606400592
	fop            0x0	0
	xmm0           {
	  v4_float = {-nan(0x7fffff), -nan(0x7fffff), -nan(0x7f0000), 0}, 
	  v2_double = {-nan(0xfffffffffffff), -nan(0xf000000000000)}, 
	  v16_int8 = {-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 0, 0, 0, 0, 0, 0}, 
	  v8_int16 = {-1, -1, -1, -1, -1, 0, 0, 0}, 
	  v4_int32 = {-1, -1, -65536, 0}, 
	  v2_int64 = {-1, -281474976710656}, 
	  uint128 = 0xffffffffffffffffffff000000000000
	}	(raw 0x000000000000ffffffffffffffffffff)
	xmm1           {
	  v4_float = {7.14284101e+31, 2.75614803e+23, 907120832, 9.25445743e+18}, 
	  v2_double = {3.9838610162521671e+252, 2.6177531811662865e+69}, 
	  v16_int8 = {116, 97, 99, 105, 102, 105, 116, 111, 78, 88, 70, 67, 95, 0, 110, 112}, 
	  v8_int16 = {29793, 25449, 26217, 29807, 20056, 17987, 24320, 28272}, 
	  v4_int32 = {1952539497, 1718187119, 1314408003, 1593863792}, 
	  v2_int64 = {8386093285481477231, 5645339388079533680}, 
	  uint128 = 0x746163696669746f4e5846435f006e70
	}	(raw 0x706e005f4346584e6f74696669636174)
	xmm2           {
	  v4_float = {0, 0, 0, 0}, 
	  v2_double = {0, 0}, 
	  v16_int8 = {0 <repeats 16 times>}, 
	  v8_int16 = {0, 0, 0, 0, 0, 0, 0, 0}, 
	  v4_int32 = {0, 0, 0, 0}, 
	  v2_int64 = {0, 0}, 
	  uint128 = 0
	}	(raw 0x00000000000000000000000000000000)
	xmm3           {
	  v4_float = {1.40129846e-45, 4.37701181e-40, 1.40129846e-45, 2.84518239e-40}, 
	  v2_double = {2.1221501143460134e-314, 2.1220961055599383e-314}, 
	  v16_int8 = {0, 0, 0, 1, 0, 4, -60, 34, 0, 0, 0, 1, 0, 3, 25, 31}, 
	  v8_int16 = {0, 1, 4, -15326, 0, 1, 3, 6431}, 
	  v4_int32 = {1, 312354, 1, 203039}, 
	  v2_int64 = {4295279650, 4295170335}, 
	  uint128 = 0x000000010004c422000000010003191f
	}	(raw 0x1f1903000100000022c4040001000000)
	xmm4           {
	  v4_float = {0, 0, -1.875, 0}, 
	  v2_double = {0, -1}, 
	  v16_int8 = {0, 0, 0, 0, 0, 0, 0, 0, -65, -16, 0, 0, 0, 0, 0, 0}, 
	  v8_int16 = {0, 0, 0, 0, -16400, 0, 0, 0}, 
	  v4_int32 = {0, 0, -1074790400, 0}, 
	  v2_int64 = {0, -4616189618054758400}, 
	  uint128 = 61631
	}	(raw 0x000000000000f0bf0000000000000000)
	xmm5           {
	  v4_float = {0, 0, 0, 0}, 
	  v2_double = {0, 0}, 
	  v16_int8 = {0 <repeats 16 times>}, 
	  v8_int16 = {0, 0, 0, 0, 0, 0, 0, 0}, 
	  v4_int32 = {0, 0, 0, 0}, 
	  v2_int64 = {0, 0}, 
	  uint128 = 0
	}	(raw 0x00000000000000000000000000000000)
	xmm6           {
	  v4_float = {0, 0, 0, 0}, 
	  v2_double = {0, 0}, 
	  v16_int8 = {0 <repeats 16 times>}, 
	  v8_int16 = {0, 0, 0, 0, 0, 0, 0, 0}, 
	  v4_int32 = {0, 0, 0, 0}, 
	  v2_int64 = {0, 0}, 
	  uint128 = 0
	}	(raw 0x00000000000000000000000000000000)
	xmm7           {
	  v4_float = {0, 0, 0, 0}, 
	  v2_double = {0, 0}, 
	  v16_int8 = {0 <repeats 16 times>}, 
	  v8_int16 = {0, 0, 0, 0, 0, 0, 0, 0}, 
	  v4_int32 = {0, 0, 0, 0}, 
	  v2_int64 = {0, 0}, 
	  uint128 = 0
	}	(raw 0x00000000000000000000000000000000)
	xmm8           {
	  v4_float = {0, 0, 0, 0}, 
	  v2_double = {0, 0}, 
	  v16_int8 = {0 <repeats 16 times>}, 
	  v8_int16 = {0, 0, 0, 0, 0, 0, 0, 0}, 
	  v4_int32 = {0, 0, 0, 0}, 
	  v2_int64 = {0, 0}, 
	  uint128 = 0
	}	(raw 0x00000000000000000000000000000000)
	xmm9           {
	  v4_float = {0, 0, 0, 0}, 
	  v2_double = {0, 0}, 
	  v16_int8 = {0 <repeats 16 times>}, 
	  v8_int16 = {0, 0, 0, 0, 0, 0, 0, 0}, 
	  v4_int32 = {0, 0, 0, 0}, 
	  v2_int64 = {0, 0}, 
	  uint128 = 0
	}	(raw 0x00000000000000000000000000000000)
	xmm10          {
	  v4_float = {0, 0, 0, 0}, 
	  v2_double = {0, 0}, 
	  v16_int8 = {0 <repeats 16 times>}, 
	  v8_int16 = {0, 0, 0, 0, 0, 0, 0, 0}, 
	  v4_int32 = {0, 0, 0, 0}, 
	  v2_int64 = {0, 0}, 
	  uint128 = 0
	}	(raw 0x00000000000000000000000000000000)
	xmm11          {
	  v4_float = {0, 0, 0, 0}, 
	  v2_double = {0, 0}, 
	  v16_int8 = {0 <repeats 16 times>}, 
	  v8_int16 = {0, 0, 0, 0, 0, 0, 0, 0}, 
	  v4_int32 = {0, 0, 0, 0}, 
	  v2_int64 = {0, 0}, 
	  uint128 = 0
	}	(raw 0x00000000000000000000000000000000)
	xmm12          {
	  v4_float = {0, 0, 0, 0}, 
	  v2_double = {0, 0}, 
	  v16_int8 = {0 <repeats 16 times>}, 
	  v8_int16 = {0, 0, 0, 0, 0, 0, 0, 0}, 
	  v4_int32 = {0, 0, 0, 0}, 
	  v2_int64 = {0, 0}, 
	  uint128 = 0
	}	(raw 0x00000000000000000000000000000000)
	xmm13          {
	  v4_float = {0, 0, 0, 0}, 
	  v2_double = {0, 0}, 
	  v16_int8 = {0 <repeats 16 times>}, 
	  v8_int16 = {0, 0, 0, 0, 0, 0, 0, 0}, 
	  v4_int32 = {0, 0, 0, 0}, 
	  v2_int64 = {0, 0}, 
	  uint128 = 0
	}	(raw 0x00000000000000000000000000000000)
	xmm14          {
	  v4_float = {0, 0, 0, 0}, 
	  v2_double = {0, 0}, 
	  v16_int8 = {0 <repeats 16 times>}, 
	  v8_int16 = {0, 0, 0, 0, 0, 0, 0, 0}, 
	  v4_int32 = {0, 0, 0, 0}, 
	  v2_int64 = {0, 0}, 
	  uint128 = 0
	}	(raw 0x00000000000000000000000000000000)
	xmm15          {
	  v4_float = {0, 0, 0, 0}, 
	  v2_double = {0, 0}, 
	  v16_int8 = {0 <repeats 16 times>}, 
	  v8_int16 = {0, 0, 0, 0, 0, 0, 0, 0}, 
	  v4_int32 = {0, 0, 0, 0}, 
	  v2_int64 = {0, 0}, 
	  uint128 = 0
	}	(raw 0x00000000000000000000000000000000)
	mxcsr          0x1fa0	8096


